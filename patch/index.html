<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <!-- <link rel="stylesheet" type="text/css" href="style.css"> -->
        <script src="../node_modules/tone/build/Tone.js"></script>
        <title>Patch’s API Sandbox</title>
    </head>
    <body> 
        <h1>Welcome to hell</h1>
        <button id="beeNoise">Bzzzz 🐝</button>
        <button id="waterNoise">Gurgle 💦</button>

        <script>
            const env = new Tone.AmplitudeEnvelope({
                attack: 0.11,
                decay: 0.21,
                sustain: 0.5,
                release: 1.2
            }).toDestination();

            // create an oscillator and connect it to the envelope
            const osc = new Tone.Oscillator({
                partials: [3, 2, 1],
                type: "custom",
                frequency: "C#4",
                volume: -8,
            }).connect(env).start();

            // bind the interface
            drawer().add({
                tone: env,
                name: "Envelope"
            }).add({
                tone: osc,
            });

            // up and down bois
            // document.querySelector("tone-momentary-button").addEventListener("down", e => env.triggerAttack());
            // document.querySelector("tone-momentary-button").addEventListener("up", e => env.triggerRelease());

            document.getElementById('beeNoise').addEventListener('click', e => env.triggerAttack());
            
            
        </script>
    </body>
</html>